---
import CommonLayout from '../../layout/CommonLayout.astro';
import PageTitle from '../../components/PageTitle.astro';
import PageLayout from '../../layout/PageLayout.astro';

import { Content } from './_internal/page/Content';

import { collectionToWork } from '../../context/work/collection';
import { getCollection } from 'astro:content';

const worksCollectionEntries = await getCollection('works');
const works = await Promise.all(worksCollectionEntries.map(collectionToWork));
---

<CommonLayout>
	<PageTitle title="works" />
	<PageLayout>
		<Content client:load {works} />
	</PageLayout>
</CommonLayout>
